browser-switchboard (3.3-2) extras-devel; urgency=low

  * Cherry-pick cdd1081d... ("Provide open_new_window and load_url methods with
    boolean fullscreen argument"); fix for compatibility with MicroB
    com.nokia.osso_browser interface.

 -- Steven Luo <steven+maemo@steven676.net>  Sat, 09 Oct 2010 18:38:16 -0700

browser-switchboard (3.3-1fremantle2) extras-devel; urgency=low

  * Beta release for Fremantle.
  * Cherry-pick 330acaf7... ("Fremantle: Use open_new_window instead of
    load_url when passing URL to MicroB"); fixes regression from 3.2.
  * Cherry-pick efb6ed35... ("Fremantle: Make DBusGProxy static in
    launch_microb_open_window()").

 -- Steven Luo <steven+maemo@steven676.net>  Fri, 10 Sep 2010 17:34:20 -0700

browser-switchboard (3.3-1fremantle1) extras-devel; urgency=low

  * Beta release for Fremantle.

 -- Steven Luo <steven+maemo@steven676.net>  Thu, 02 Sep 2010 21:51:32 -0700

browser-switchboard (3.3-1) extras-devel; urgency=low

  * New "upstream" stable release.
  * 3.3~b2-1 released as stable with no changes.

 -- Steven Luo <steven+maemo@steven676.net>  Thu, 02 Sep 2010 21:44:35 -0700

browser-switchboard (3.3~b2-1fremantle1) extras-devel; urgency=low

  * Development release for Fremantle.
  * Packaging changes:
    - Update debian/rules to build the Fremantle-specific command-line config
      tool and install the Xsession.post script.
    - Revise the postinst.  Now that we coexist with the MicroB browser
      process, don't try to kill it in the postinst; instead, start
      browser-switchboard as the user to make sure we handle links from the
      get-go, and prestart MicroB if appropriate.

 -- Steven Luo <steven+maemo@steven676.net>  Sat, 28 Aug 2010 05:19:42 -0700 
  
browser-switchboard (3.3~b2-1) extras-devel; urgency=low

  * New "upstream" development release.
  * Upstream changes:
    - only offer installed browsers in the config GUI
    - make continuous mode operation the default; disable non-continuous-mode
      on Fremantle (needed for correct operation on D-Bus system bus)
    - Fremantle: major overhaul of MicroB launching to improve robustness;
      should result in speed and behavior indistinguishable from when Browser
      Switchboard isn't installed when MicroB is configured as default browser
    - listen on D-Bus system bus as well as session bus, to accommodate some
      broken applications that send their requests on the system bus
    - Fremantle: start browser-switchboard on X session startup, and also
      prestart MicroB if it's the default browser or the user asks for it
    - Fremantle: prestart MicroB when the user changes to MicroB as the default
      browser
  * Packaging changes:
    - Update package description to mention that we ship a control panel
      applet, to help users who don't read documentation.  Thanks to Emanuele
      Cassioli for pointing out the need.

 -- Steven Luo <steven+maemo@steven676.net>  Sat, 28 Aug 2010 04:55:39 -0700 

browser-switchboard (3.3~b1-1fremantle1) extras-devel; urgency=low

  * Development release for Fremantle.

 -- Steven Luo <steven+maemo@steven676.net>  Sun, 30 May 2010 03:23:17 -0700 

browser-switchboard (3.3~b1-1) extras-devel; urgency=low

  * New "upstream" development release.
  * Upstream changes:
    - add support for Opera Mobile
    - fall back to the built-in default if the user's configured default
      browser isn't installed
    - introduce a command-line config utility; this is mainly intended to give
      browser vendors a way to set their browser as the default
    - provide a description for users who don't know what MicroB is; thanks
      Emanuele Cassioli for pointing out the need
    - major rewrite of configuration loading/saving code
  * Cherry-pick addb0ed9... ("Add command-line utility to Makefile install
    target").
  * Packaging changes:
    - Build and install the new command-line config utility.

 -- Steven Luo <steven+maemo@steven676.net>  Sun, 30 May 2010 02:52:31 -0700 

browser-switchboard (3.2-2fremantle1) extras-devel; urgency=low

  * Beta release for Fremantle.
  * Packaging changes:
    - Clear hildon-control-panel's cached screenshot on package remove.
    - Don't build with -mthumb, to avoid a SIGILL on PR1.2.

 -- Steven Luo <steven+maemo@steven676.net>  Fri, 28 May 2010 01:40:27 -0700 

browser-switchboard (3.2-2) extras-devel; urgency=low

  * Cherry-pick ebfd6218... ("Add preliminary support for Opera Mobile").
  * Update package description to mention Opera Mobile.

 -- Steven Luo <steven+maemo@steven676.net>  Fri, 28 May 2010 01:35:22 -0700 

browser-switchboard (3.2-1fremantle1) extras-devel; urgency=low

  * Beta release for Fremantle.
  * Packaging changes:
    - Ship a different microb.desktop file with the Fremantle location of the
      stock web browser icon.
    - Add a postinst that attempts to kill open MicroB browser processes, to
      avoid having to restart for browser-switchboard to start handling
      com.nokia.osso_browser.

 -- Steven Luo <steven+maemo@steven676.net>  Mon, 22 Feb 2010 03:02:50 -0800 

browser-switchboard (3.2-1) extras-devel; urgency=low

  * New "upstream" stable release.
  * Upstream changes:
    - make the "Web" menu entry and /usr/bin/browser open the default browser,
      and provide a new "MicroB" menu entry and /usr/bin/microb script for
      launching MicroB; the previous behavior was counterintuitive and
      difficult to discover
    - Fremantle: fix launching and closing MicroB on Fremantle; thanks Faheem
      Pervez and Uwe Kaminski for extensive testing
    - Fremantle: force the Ovi Store bookmark to open in MicroB, since Ovi
      Store doesn't load in other browsers; thanks ToJa92 of t.m.o for
      reporting
    - add ability to send debug output to syslog and new config setting
      ("logging") to control where debug output goes; thanks Faheem Pervez for
      the suggestion
    - close stdin/stdout/stderr in child processes before the exec(), to make
      debug output on stdout less noisy
    - fix some abuses of the D-Bus API in launcher.c:launch_tear()
    - make sure a running browserd is detected correctly on all devices so that
      we don't try to launch another one; thanks Faheem Pervez for reporting
    - ensure that only one browser-switchboard is active at any time
    - update build system; we now have "diablo" and "fremantle" targets that
      build binaries for the selected OS release
    - link binaries with -Wl,--as-needed to eliminate unnecessary dependencies
  * Packaging changes:
    - Build with Thumb by default and provide a "nothumb" build option to turn
      it off, instead of building with Thumb only when requested; the
      autobuilders aren't requesting Thumb, but we want it by default.
    - Update debian/rules for the new upstream build system.

 -- Steven Luo <steven+maemo@steven676.net>  Mon, 22 Feb 2010 02:14:19 -0800 

browser-switchboard (3.1-2fremantle4) extras-devel; urgency=low

  * Alpha release for Fremantle.
  * Cherry-pick 870b63f0... ("Install the inotify watch for lockfile creation
    before forking").
  * Cherry-pick a712d8d7... ("Avoid a race between MicroB startup and
    establishing D-Bus watch for it").
  * Cherry-pick 32801150... ("Ensure that only one browser-switchboard is
    active at any time").

 -- Steven Luo <steven+maemo@steven676.net>  Mon, 15 Feb 2010 18:57:46 -0800 

browser-switchboard (3.1-2fremantle3) extras-devel; urgency=low

  * Alpha release for Fremantle.
  * Cherry-pick e7bb0f3e... ("Take a different approach to detecting MicroB
    browser window close").

 -- Steven Luo <steven+maemo@steven676.net>  Sat, 13 Feb 2010 21:07:56 -0800 

browser-switchboard (3.1-2fremantle2) extras-devel; urgency=low

  * Alpha release for Fremantle.
  * Cherry-pick 5b7e4808... ("Make sure a running browserd is detected
    correctly on all devices").
  * Cherry-pick 88db9429... ("Kill MicroB browser UI processes instead
    of using exit_browser").

 -- Steven Luo <steven+maemo@steven676.net>  Sat, 06 Feb 2010 03:10:16 -0800 

browser-switchboard (3.1-2fremantle1) extras-devel; urgency=low

  * Alpha release for Fremantle.
  * No need to lose the tablet-browser-ui dependency on Fremantle.
  * Cherry-pick d8d8d1ed... ("Close stdin/stdout/stderr in child
    processes before exec()") and 53ba5ca0... ("Throw away stdout/stderr
    for browserds we launch too") to make ongoing debugging efforts
    easier.

 -- Steven Luo <steven+maemo@steven676.net>  Fri, 05 Feb 2010 00:13:54 -0800 

browser-switchboard (3.1-2) extras-devel; urgency=low

  * Drop the dependency on tablet-browser-ui for Diablo until maemo.org
    Bugzilla #8806 gets fixed; this was preventing 3.1-1 from reaching
    extras.

 -- Steven Luo <steven+maemo@steven676.net>  Fri, 05 Feb 2010 00:05:27 -0800 

browser-switchboard (3.1-1fremantle2) extras-devel; urgency=low

  * Alpha release for Fremantle.
  * Cherry-pick 6b78dde6... ("Initial support for launching MicroB on
    Fremantle") and associated cleanups.
  * Revise build system to reflect updated dependencies.

 -- Steven Luo <steven+maemo@steven676.net>  Tue, 02 Feb 2010 02:45:42 -0800

browser-switchboard (3.1-1fremantle1) extras-devel; urgency=low

  * Alpha release for Fremantle.
  * Pass EXTRA_CPPFLAGS=-DFREMANTLE to make to compile Fremantle-specific code.

 -- Steven Luo <steven+maemo@steven676.net>  Fri, 15 Jan 2010 02:52:40 -0800

browser-switchboard (3.1-1) extras-devel; urgency=low

  * New "upstream" stable release.
  * Upstream changes:
    - add a new, more finger-friendly GUI for Fremantle, based on work by
      Faheem Pervez (build UI with EXTRA_CPPFLAGS=-DFREMANTLE)
    - make sure reconfig signal (SIGHUP) doesn't interrupt dispatch of a
      request when continuous mode is off
    - disable autocapitalization and predictive text features for the
      other_browser_cmd entry in the UI
    - add support for EXTRA_CPPFLAGS in Makefiles, to allow package builds to
      pass feature/configuration defines; add EXTRA_LDFLAGS too, just in case

 -- Steven Luo <steven+maemo@steven676.net>  Fri, 15 Jan 2010 01:54:56 -0800

browser-switchboard (3.0-1fremantle1) extras-devel; urgency=low

  * Experimental build for Fremantle.
  * Add XSBC-Bugtracker to debian/control to indicate where bugs should be
    filed; needed for maemo extras QA.
  * No need to add CPU optimization flags, the Fremantle toolchain
    automatically optimizes for N900/OMAP3.

 -- Steven Luo <steven+maemo@steven676.net>  Wed, 23 Dec 2009 04:01:53 -0800

browser-switchboard (3.0-1) extras-devel; urgency=low

  * New "upstream" stable release.
  * Upstream changes:
    - fix the UI so that it looks for C browser-switchboard processes to send
      SIGHUP to, not Python browser-switchboards
    - add support for EXTRA_CFLAGS in Makefiles, to allow package builds to
      pass additional optimization flags
    - replace calls to `pkg-config dbus-1` in config-ui/Makefile with calls to
      `pkg-config libosso` instead; asking for dbus-1 was incorrect and
      covering up a problem that caused maemo extras-devel autobuilds to fail
  * Packaging changes:
    - Use EXTRA_CFLAGS to generate N8x0 optimized builds, and use Thumb if
      DEB_BUILD_OPTIONS requests it.
    - Bump Standards-Version to 3.8.0; no changes required.
    - 323bf8... ("config-ui: Teach UI how to HUP C browser-switchboards")
      merged upstream, remove from diff.
    - Remove unneeded file debian/dirs.

 -- Steven Luo <steven+maemo@steven676.net>  Wed, 23 Dec 2009 03:48:02 -0800

browser-switchboard (3.0~rc1-2fremantle1) extras-devel; urgency=low

  * Experimental build for Fremantle.
  * Upload to extras-devel.

 -- Steven Luo <steven+maemo@steven676.net>  Fri, 18 Dec 2009 20:44:08 -0800

browser-switchboard (3.0~rc1-2) extras-devel; urgency=low

  * Actually upload to extras-devel.
  * Replace the dependency on libdbus-1-dev and the call to pkg-config for
    dbus-1 with libosso-dev and libosso, respectively, as that's the package
    the control panel plugin interface actually needs.  Fixes autobuild.

 -- Steven Luo <steven+maemo@steven676.net>  Fri, 18 Dec 2009 19:07:25 -0800

browser-switchboard (3.0~rc1-1fremantle1) extras-devel; urgency=low

  * Experimental build for Fremantle.
  * Packaging changes:
    - Add a different .desktop file with the Fremantle location of the stock
      web browser icon.

 -- Steven Luo <steven+maemo@steven676.net>  Fri, 18 Dec 2009 05:24:16 -0800

browser-switchboard (3.0~rc1-1) extras-devel; urgency=low

  * New "upstream" prerelease.
  * Upstream changes:
    - move to an all-C implementation for better performance and memory usage
    - add a configuration hildon-control-panel plugin
    - make MicroB the default default browser
  * Packaging changes:
    - Accommodate the move to C:
      + Package is now Arch: any.
      + Revise Build-Depends and Depends appropriately.
      + debian/postrm now kills off both Python and C browser-switchboards.
      + debian/rules: build an Arch: any package, use the new Makefile-based
        build and install, dh_strip the binaries, make shlibdeps.
  * Cherry-pick 323bf8...
    ("config-ui: Teach UI how to HUP C browser-switchboards") from Git master.

 -- Steven Luo <steven+maemo@steven676.net>  Fri, 18 Dec 2009 03:48:03 -0800

browser-switchboard (2.2-1) extras-devel; urgency=low

  * New "upstream" release.
  * Upstream changes:
    - rename the package to browser-switchboard
    - move the config file to $HOME/.config/browser-switchboard, and fall back
      to the old location if no config file is found
    - if no config file is found and Tear isn't installed, launch MicroB;
      this avoids breaking link opening on a system with a freshly installed
      browser-switchboard package and Tear not installed
    - substantial documentation update
  * Packaging changes:
    - Rename the package to browser-switchboard; Conflict with browser-proxy
      to make sure that users don't try to install over it.  browser-proxy
      needs to be uninstalled before installing browser-switchboard.
    - Drop the Depends on tear, now that installing browser-switchboard
      doesn't break link opening when Tear isn't installed.  Recommend
      tear | fennec | midori instead.
    - Add a friendly display name for the application manager in
      debian/control.
    - Update the package description.

 -- Steven Luo <steven+maemo@steven676.net>  Mon, 14 Dec 2009 03:39:04 -0800

browser-proxy (2.1-1) extras-devel; urgency=low

  * New "upstream" release.
  * Upstream changes:
    - I'm now the upstream maintainer.
    - License is clarified (GPLv2+).
    - Use a config file ($HOME/.config/browser-proxy) for settings, if it
      exists.
    - Add support for launching Fennec and Midori out of the box.
    - Introduce a config option default_browser for selecting the default
      browser.
    - Add support for launching an arbitrary browser using the
      other_browser_cmd config option.
    - Run maemo-invoker directly instead of /usr/bin/browser to avoid a loop
      when /usr/bin/browser is a wrapper invoking browser-proxy.
    - Add a new, private D-Bus method for a /usr/bin/browser wrapper to use.
  * Packaging changes:
    - Ship a /usr/bin/browser wrapper script which ensures that launching
      MicroB with /usr/bin/browser works when browser-proxy is installed.
    - Update copyright to reflect licensing changes.
    - Conflict with Mozilla's fennec-dbus-proxy (see Mozilla Bugzilla
      #499904); both provide the com.nokia.osso_browser service and the two
      probably shouldn't be co-installed.

 -- Steven Luo <steven+maemo@steven676.net>  Wed, 09 Dec 2009 17:54:16 -0800

browser-proxy (2.0-1) extras-devel; urgency=low

  * Initial release. 

 -- Steven Luo <steven+maemo@steven676.net>  Wed,  2 Dec 2009 17:56:24 -0800

